{% set confirmation = action.confirmation %}
{% set url = url_for(screen.get_action_route_name(action)) %}
{% if model %}
    {% set url = url.include_query_params(object_id=model|model_pk) %}
{% endif %}
<button type="button" hx-target="o-modals" hx-push-url="false"
        class="list-menu-item {{ 'danger' if action.dangerous else '' }}"
        hx-post="{{ url }}"
        {% if confirmation %}hx-confirm="{{ confirmation }}"{% endif %}>
    {{ action.icon }}
    {{ action.label }}
</button>
