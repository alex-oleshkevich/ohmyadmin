{% set button_styles = 'btn' %}
{% set default_styles = '' %}
{% set primary_styles = 'btn-primary' %}
{% set danger_styles = 'btn-danger' %}
{% set text_styles = 'btn-text' %}

{% set color_map = {
    'default': default_styles,
    'primary': primary_styles,
    'danger': danger_styles,
    'text': text_styles,
} %}

{% macro link_button(text, url, icon='',  color='default') %}
    <a href="{{ url }}" class="{{ button_styles }} {{ color_map[color] }}">
        {{ tabler_icon(icon) if icon else '' }}
        <span>{{ text }}</span>
    </a>
{% endmacro %}

{% macro button(text, type='button', icon='',  color='default', name='', attrs={}) %}
    <button
        type="{{ type }}"
        class="{{ button_styles }} {{ color_map[color] }}"
        {{ 'name="{name}"'.format(name=name) if name else '' }}
        {{ attrs|dict_to_attrs }}
    >
        {{ tabler_icon(icon) if icon else '' }}
        <span>{{ text }}</span>
    </button>
{% endmacro %}

{% macro primary_button(text, type='button', icon='', name='', attrs={}) %}
    {{ button(text=text, type=type, icon=icon, color='primary', name=name, attrs=attrs ) }}
{% endmacro %}

{% macro danger_button(text, type='button', icon='', name='', attrs={}) %}
    {{ button(text=text, type=type, icon=icon, color='danger', name=name, attrs=attrs ) }}
{% endmacro %}
