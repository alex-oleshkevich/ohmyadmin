{% import 'ohmyadmin/lib/buttons.html' as buttons %}
{% import 'ohmyadmin/lib/forms.html' as forms %}

<form hx-swap="outerHTML" hx-post="{{ request.url }}">
    <div class="mt-3 text-center sm:mt-0 sm:text-left">
        <h3 class="text-lg font-medium leading-6 text-gray-900">
            {% block title %}{{ action.label }}{% endblock %}
        </h3>
        <div class="mt-6">
            {% if action.confirmation %}
                <div>{{ action.confirmation }}</div>
            {% endif %}
            {% block content %}
                <div>
                    {% for field in form %}
                        {{ forms.form_field(field) }}
                    {% endfor %}
                </div>
            {% endblock %}
        </div>
    </div>

    <div class="modal-actions">
        {% block actions %}
            {% if action.dangerous %}
                {{ buttons.danger_button(_('Run Action'), type='submit') }}
            {% else %}
                {{ buttons.primary_button(_('Run Action'), type='submit') }}
            {% endif %}
            {{ buttons.button(_('Cancel'), attrs={'@click': 'closeActionModal'}, type='button') }}
        {% endblock %}
    </div>
</form>
